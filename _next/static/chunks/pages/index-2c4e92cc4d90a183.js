(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4423:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(4362)}])},4362:function(e,t,n){"use strict";n.r(t),n.d(t,{__N_SSG:function(){return j},default:function(){return g}});var r=n(4246),o=n(7378),a=n(42),i=n.n(a),s=n(9894),l=n(8704),c=n(5943),u=n.n(c);function d(e){var t=e.name,n=e.pathId,a=e.thumbnail,c=e.shortDescription,d=(0,o.useState)(!1),f=d[0],h=d[1],p=(0,o.useState)(null),m=p[0],_=p[1],v=(0,o.useState)(null),x=v[0],b=v[1],y=(0,o.useState)(!1),I=y[0],j=y[1];(0,o.useEffect)((function(){if(null!=x){var e=new l.Z(x,{autoHide:!1,forceVisible:"y",scrollbarMinSize:100}),t=e.el.querySelector(".simplebar-track.simplebar-vertical > .simplebar-scrollbar");"none"===(null===t||void 0===t?void 0:t.style.getPropertyValue("display"))&&(t.style.setProperty("display","block"),t.style.setProperty("height","100%"));var n="undefined"!==typeof MutationObserver&&null!=t?new MutationObserver((function(){"none"===t.style.getPropertyValue("display")&&(t.style.setProperty("display","block"),t.style.setProperty("height","100%"))})):null;null!=t&&null!=n&&n.observe(t,{attributes:!0,attributeFilter:["style"]});var r=e.getScrollElement();j(document.activeElement===r);var o=function(){j(!0)},a=function(){j(!1)};return r.addEventListener("focus",o),r.addEventListener("blur",a),function(){e.unMount(),null===n||void 0===n||n.disconnect(),r.removeEventListener("focus",o),r.removeEventListener("blur",a)}}}),[x]);var g=(0,o.useCallback)((function(e){e.preventDefault(),h((function(e){return!e}))}),[]);return(0,o.useEffect)((function(){if(f&&null!=m){var e=function(e){var t,n;t=e.target,(null!=(n=Node)&&"undefined"!==typeof Symbol&&n[Symbol.hasInstance]?n[Symbol.hasInstance](t):t instanceof n)&&!m.contains(e.target)&&h(!1)};return window.addEventListener("click",e,{passive:!0}),function(){window.removeEventListener("click",e)}}}),[f,m,h]),(0,r.jsxs)("div",{ref:_,className:u().root,children:[(0,r.jsx)(s.default,{href:"/boxes/".concat(encodeURIComponent(n)),children:(0,r.jsx)("a",{className:u().headerLink,children:(0,r.jsx)("div",{tabIndex:-1,className:i()(u().header),children:(0,r.jsx)("h4",{title:t,children:t})})})}),(0,r.jsx)("div",{className:u().overlayWrapper,children:(0,r.jsxs)("div",{className:u().overlay,children:[(0,r.jsx)(s.default,{href:"/boxes/".concat(encodeURIComponent(n)),children:(0,r.jsx)("a",{tabIndex:-1,"aria-label":"Thumbnail for ".concat(t),children:(0,r.jsx)("div",{className:i()(u().thumbContainer,null==a&&u().defaultThumb),style:{backgroundImage:null!=a?"url('".concat(a,"')"):"url('/static-logo.svg')"}})})}),(0,r.jsxs)("div",{className:i()(u().textWrapper,!f&&u().textHidden),children:[(0,r.jsx)("div",{ref:b,className:i()(u().text,I&&u().scrollFocus),children:(0,r.jsx)("p",{children:c})}),(0,r.jsx)("div",{className:u().fullInfo,children:(0,r.jsx)(s.default,{href:"/boxes/".concat(encodeURIComponent(n),"/info"),children:(0,r.jsx)("a",{children:"Full information"})})})]})]})}),(0,r.jsx)("i",{className:i()("fas","fa-info-circle","hover",f&&u().active),"aria-hidden":!0,onClick:g})]})}var f=n(1719),h=n.n(f),p=n(1279),m=n.n(p),_=n(7381);function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){v(e,t,n[t])}))}return e}function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function y(e,t,n){return""===n?t:e.search(n,{fields:{name:{boost:2},shortDescription:{boost:1}}}).map((function(e){var n=e.ref;return t[Number.parseInt(n,10)]}))}function I(e){var t=e.index,n=e.boxes,a=e.setBoxList,i=(0,_.Z)(),s=(0,o.useState)(""),l=s[0],c=s[1];(0,o.useEffect)((function(){if(!i){var e=window.location.hash.startsWith("#search?")?decodeURIComponent(window.location.hash.substr(8)):"";c(e),a(y(t,n,e))}}),[n,t,i,a]);var u=(0,o.useState)([function(e){}]),d=u[0],f=u[1],p=(0,o.useState)([function(e){}]),m=p[0],v=p[1];return(0,o.useEffect)((function(){var e=function(e){if(null!=r&&(clearTimeout(r),r=null),e!==o){a(""===e?n:y(t,n,e)),o=e;var i=window.location.href.split("#",1)[0],s=window.history.state.as.split("#",1)[0],l=x({},window.history.state,{as:""!==e?"".concat(s,"#search?").concat(encodeURIComponent(e)):s});window.history.replaceState(l,document.title,""!==e?"".concat(i,"#search?").concat(encodeURIComponent(e)):i)}};var r=null,o=window.location.hash.startsWith("#search?")?decodeURIComponent(window.location.hash.substr(8)):"";return f([function(t){null!=r&&clearTimeout(r),r=setTimeout(e,500,t)}]),v([e]),function(){f([function(){}]),v([function(){}]),null!=r&&(clearTimeout(r),r=null)}}),[n,t,a]),(0,r.jsxs)("div",{className:h().searchInputWrapper,children:[(0,r.jsx)("i",{className:"fas fa-search"}),(0,r.jsx)("input",{type:"text",value:l,onChange:function(e){c(e.currentTarget.value),d[0](e.currentTarget.value)},onBlur:function(e){return m[0](e.currentTarget.value)},onKeyDown:function(e){return"Enter"===e.key&&!e.shiftKey&&m[0](e.currentTarget.value)},placeholder:"Search..."})]})}var j=!0;function g(e){var t=e.nonIndexedFields,n=e.serialisedIndexData,a=(0,o.useMemo)((function(){return null==(e=n)?m()((function(){this.addField("id"),this.addField("name"),this.addField("shortDescription")})):p.Index.load(e);var e}),[n]),i=(0,o.useMemo)((function(){return t.map((function(e,t){var n=a.documentStore.getDoc(t);n.id;return x({},b(n,["id"]),e)}))}),[a,t]),s=(0,o.useState)(!1),l=(s[0],s[1]),c=((0,o.useCallback)((function(){l((function(e){return!e}))}),[l]),(0,o.useState)(i)),u=c[0],f=c[1];return(0,r.jsxs)("div",{className:h().root,children:[(0,r.jsxs)("form",{className:h().searchWrapper,children:[(0,r.jsxs)("div",{className:h().search,children:[(0,r.jsx)(I,{setBoxList:f,boxes:i,index:a}),!1]}),!1]}),(0,r.jsx)("div",{className:h().grid,children:u.map((function(e){return(0,r.jsx)(d,x({},e),e.pathId)}))})]})}},5943:function(e){e.exports={root:"BoxListItem_root__hU3UR",overlayWrapper:"BoxListItem_overlayWrapper__JXUe3",overlay:"BoxListItem_overlay__bP7Q1",thumbContainer:"BoxListItem_thumbContainer__zOKRN",defaultThumb:"BoxListItem_defaultThumb__qO_5p",textWrapper:"BoxListItem_textWrapper__iT7a5",text:"BoxListItem_text__PztPM",textHidden:"BoxListItem_textHidden__MxTA7",fullInfo:"BoxListItem_fullInfo__Ajinv",headerLink:"BoxListItem_headerLink__h2FIn",textOnly:"BoxListItem_textOnly__XfAG9",scrollFocus:"BoxListItem_scrollFocus__WzWL0",header:"BoxListItem_header__JlQFJ",active:"BoxListItem_active__EpMud"}},1719:function(e){e.exports={root:"box-list-page_root__JTYyT",grid:"box-list-page_grid__9jhiv",searchWrapper:"box-list-page_searchWrapper__OTOU2",search:"box-list-page_search__X9I_P",searchInputWrapper:"box-list-page_searchInputWrapper__wPend",filter:"box-list-page_filter__3ACWp",fieldset:"box-list-page_fieldset__vKizH"}}},function(e){e.O(0,[434,774,888,179],(function(){return t=4423,e(e.s=t);var t}));var t=e.O();_N_E=t}]);